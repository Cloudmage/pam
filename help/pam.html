<h1>Introduction</h1>
<p><strong>P</strong>i<strong>A</strong>udio<strong>M</strong>onitor is a suite of audio monitoring tools designed to run on a Raspberry Pi with the official Pi Touchscreen. The software will also run on other flavours of Linux and Windows.</p>

<p>&nbsp;</p>
<h2>Hardware and OS<br />
</h2>
<p>The hardware parts that make up the unit can mostly be purchased from RS</p>

<ul>
<li><a href="https://uk.rs-online.com/web/p/processor-microcontroller-development-kits/1373331/?sra=pmpn">Raspberry Pi</a></li>
<li><a href="https://uk.rs-online.com/web/p/graphics-display-development-kits/8997466/">Touchscree</a></li>
<li><a href="https://uk.rs-online.com/web/p/development-board-enclosures/9064665/">Case</a></li><li><a href="http://cpc.farnell.com/hifiberry/4260439550453/digi-i-o-digi-audio-i-p-o-p-hat/dp/SC14724">Soundcard - HifiBerry digi+ I/O</a></li></ul><p>There is an ISO available which contains the OS and a preinstalled version of PAM. This is the easiest way of getting started.</p><p>On powering on the Raspberry Pi the PAM software will be automatically started. <br /></p><h2>Software</h2><p>PAM is based on a plugin infrastructure. There is a core application which deals with audio input and output and hosts plugins that display the monitoring metrics. </p><p>There are two types of plugin</p><ul><li>Monitoring - these are screens which are intended to show the real time state of the audio (e.g. PPM meters, FFT, Lissajou)</li><li>Test - these are screens which are intended to allow the user to run specific tests on the audio (e.g. Channel Delay, Distortion) <br /></li></ul><p><img alt="splash" src="images/2813_splash.JPG" height="240" width="400" border="0" /></p><p>The application will startup with the splash screen above whilst the plugins are loaded.</p><p>Once eveything is loaded the application will default to the display that it was on when it closed.</p><p><img alt="main screen" src="images/2813_mode.JPG" height="240" width="399" border="0" /></p><p>The screen is divided in to 4 areas.</p><ul><li>The left hand side shows the audio monitoring (above is showing the meters plugin).</li><li>The green buttons allow selection of the different plugins as well as the settings and log screen. These are the <strong><span style="color: #33cccc">Screen Selection</span></strong> buttons.<br /></li><li>The blue buttons allow selection of settings specific to the selected plugin. These are the <strong><span style="color: #33ccff">Option Selection</span></strong> buttons. Note on the Test and Settings screens these buttons allow selections of indivudual tests and settings.<br /></li><li>The space below the <strong><span style="color: #33ccff">Option Selection</span></strong> buttons allows the user to change the settings of the selected plugin. These are the <strong><span style="color: #33ccff">Options</span></strong>.<br /></li></ul><p><img alt="fft_full" src="images/2813_main.JPG" height="240" width="406" border="0" /> <br /></p><p>Most plugins have the ability to go full screen, hiding the selection buttons as can be seen above with the FFT plugin. Touching the screen will switch between full screen and half screen mode.</p><p>There are three built in <strong><span style="color: #33cccc">Screen Selection </span></strong>buttons.</p><ul><li>Settings</li><li>Log</li><li>Test <br /></li></ul><h3>Settings</h3><p>The settings page is built in to the core application. It is always the last <strong><span style="color: #33cccc">Screen Selection </span></strong>button.</p><p>It consists of a number of sub-pages which can be selected by pressing one of the <strong><span style="color: #33ccff">Option Selection </span></strong>buttons:</p><ul><li>Audio Input</li><li>Audio Output</li><li>AoIP</li><li>Network</li><li>Plugins</li><li>Update</li><li>Threads</li></ul>The stop strap of the page shows the current version number of the core application. <br /><h4>&nbsp;Audio Input <br /></h4><p><img alt="audio input" src="images/2813_audio_input.JPG" height="240" width="402" border="0" /></p><p>The audio input page allows the user to select what audio source he is monitoring. The page is divided in to two sections. The top list shows the input types and the list below shows all possible inputs of the selected type. The buttons at the bottom are (from left to right) <span style="color: #996600">Home</span>, <span style="color: #996600">Previous Page</span>, <span style="color: #996600">Next Page</span>, <span style="color: #996600">End</span><br /></p><p>There are 3 input types</p><ul><li>Soundcard</li><li>RTP</li><li>File</li></ul><h5>Soundcard</h5><p>Selecting this will list all possible physical audio inputs to the raspberry pi. If you have the HifiBerry digi+ hat connected then you should select <span style="color: #3333ff">snd_rpi_hifiberry_digi:</span></p><h5>RTP</h5><p>Selecting this will list all discovered or manually entered AES67/Livewire/Ravenna sources. You can edit this list by selecting the AoIP settings</p><h5>File</h5><p>Selecting this will list all wav files that are on the unit. </p><h4>Audio Output</h4><p><img alt="audio output" src="images/2813_audio_output.JPG" height="240" width="401" border="0" /> <br /></p><p>The audio output page allows the user to decide whether he wants the audio that he is monitoring to be played out of the unit and if so the buffer size and latency that should be used.</p><h4>AoIP</h4><p><img alt="aoip" src="images/2813_aoip.JPG" height="240" width="402" border="0" /> <br /></p><p>The AoIP page allows the user to manage the Audio over IP sources that the unit can connect to. </p><p>The top of the page lists the sources, showing a user friendly name and the URL.</p><p>The buttons on the bottom allow the user to manually Add a new source, Update the currently selected source and Delete the current selected source.</p><p>The user can also press and hold the &quot;Hold To Delete All&quot; button to clear the list.</p><p>Finally if the Discover button is pressed then the unit will attempt to find AoIP sources that are advertising themselves using DNS-SD or SAP. Press the button again to stop the discovery process.<br /></p><p>&nbsp;</p><p>Pressing the Add Source or Update Selected button will show the AoIP edit page. <br /></p><p><img alt="aoip edit" src="images/2813_aoip_edit.JPG" height="240" width="402" border="0" />&nbsp; </p><p>The user should enter a friendly Name for the source and the full URL/IP Adress of the source. <br /></p><h4>&nbsp;Network</h4><p><img alt="network" src="images/2813_network.JPG" height="240" width="402" border="0" /> <br /></p><p>The Network page allows the user to set the properties of the wired ethernet connection of the Pi. </p><h4>Plugins</h4><p><img alt="plugins" src="images/2813_plugins.JPG" height="240" width="402" border="0" /></p><p>The plugins page allows the user to decide which Monitor and Test plugins he wishes to have running in the application and the order that they will appear.</p><p>The switch at the top of the screen decides whether the user is looking at Monitor or Test Plugins.</p><p>The left hand side of the screen lists all plugins of the relevant type that have not currently been assigned to run in the application. The section below shows the version number and a brief description of the selected plugin.</p><p>The right hand side of the screen lists all the plugins of the relevan type that are currently assigned to run in the application. They are listed in the order that they appear on the Screen Selection buttons. The section below shows the version number and a brief description of the plugin.</p><p><u>To Add A New Plugin</u></p><ul><li>Select the plugin from the list of Possible Plugins.</li><li>Press and hold the &quot;Hold To Add&quot; button until the plugin appears at the end of the list of Current Plugins. The plugin will disappear from the list of Possible Plugins.<br /></li><li>Press and hold the &quot;Hold to Apply&quot; button to apply the changes.</li></ul><p><u>To Remove A Plugin</u></p><ul><li>Select the plugin from the list of Current Plugins</li><li>Press and hold the &quot;Hold To Remove&quot; button until the plugin appears at the end of the list of Possible Plugins. The plugin will disappear from the list of Current Plugins. <br /></li><li>Press and hold the &quot;Hold to Apply&quot; button to apply the changes.</li></ul><p><u>To Change The Position Of A Plugin</u></p><ul><li>Select the plugin from the list of Current Plugins</li><li>Use the Move Up and Move Down buttons to change the plugin position.</li><li>Press and hold the &quot;Hold to Apply&quot; button to apply the changes. <br /></li></ul><h4>Update</h4><p><img alt="update" src="images/2813_update_http.JPG" height="240" width="403" border="0" /></p><p>The Update screen allows the user to decide in where updates should be retrieved from. There are 4 options</p><ul><li>HTTP - the unit will connect to a web server (e.g. the pamupdateserver standalone web server). The user should enter the URL or IP address of the web server<br /></li><li>FTP - not yet implemented</li><li>Share - not yet implemented. <br /></li><li>Local - the unit will look in a local directory for its updates. Selecting this allows the user to select the local folder.</li></ul><p>Once the method of updating has been decided the user can press the Check For Updates button to launch the Update Manager.</p><p><img alt="updatemanager_available" src="images/2813_update_manager_available.JPG" height="240" width="394" border="0" /></p><p>The Update Manager lists all plugins, core applications and libraries and documentation that either does not exist on the unit or is of a later version.</p><p>The user can select one or more items (or use the (De)Select All buttons) and then View the Changelogs for the items, View the Dependencies for the items or simply Update the Selected items.</p><p>On pressing Update Selected all the selected items and any dependencies will be updated. Note the application must be restarted for the update to finally take effect. <br /></p><p><u>Changelog</u></p><p><img alt="updatemanager_changelog" src="images/2813_update_manager_available_changelog.JPG" height="240" width="400" border="0" /></p><p>On pressing the View Changelog button the user is presented with a page that lists all the selected items and the changes that have been made to each item.</p><p>Pressing the View Changelog button will return the user to the Update Manager screen.</p><p><u>Dependencies</u></p><p><img alt="updatemanager_dependencies" src="images/2813_update_manager_available_dependencies.JPG" height="240" width="397" border="0" /></p><p>On pressing the View Dependencies button the user is presented with a page that lists all the selected items. Underneath each item is a table showing the libraries (with version number) that this item depends on. Should the user choose to update the item then the depencies will also be updated.</p><p>Pressing the View Dependencies button will return the user to the Update Manager screen.</p><p>&nbsp;</p><h3>Log</h3><p><img alt="log" src="images/2813_log.JPG" height="240" width="400" border="0" /> <br /></p><p>The Log page is built in to the core application. It is always the second to last <strong><span style="color: #33cccc">Screen Selection </span></strong>button.</p><p>The log page shows a detailed log of what the application has been up to since it last started. The user can use the <span style="color: #996600">Home</span>, <span style="color: #996600">Page Up</span>, <span style="color: #996600">Page Down </span>and <span style="color: #996600">End </span><br />to navigate through the log.</p><p>If the <span style="color: #996600">Scroll Lock</span> switch is set to Scroll then the log will keep refreshing. If set to Lock then the currently display page will remain.</p><p>Pressing <span style="color: #996600">Clear Log </span>will clear all the log pages.</p><p>&nbsp;</p><h3>Test</h3><p>The Test page is built in to the core application. It is always the third to last <strong><span style="color: #33cccc">Screen Selection </span></strong>button.</p><p>The page simply acts as a host page for all Test plugins. When the user selects the Test page the&nbsp; <strong><span style="color: #33cccc">Option Selection </span></strong>buttons will list all the loaded Test plugins and the last selected one will be displayed.<br /></p><p>&nbsp;</p><ul>
</ul>